<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<title></title>
	</head>

	<body>
		<div class="col-md-7 col-lg-8">
			<form action="/add_prop" method="post" enctype="multipart/form-data">
				<div class="row g-3">
					<div class="col-12">
						<label for="propName" class="form-label">道具名称（需用英文）</label>
						<input type="text" class="form-control" id="propName" name="propName" placeholder="rose" value="" required="">
					</div>
					<div class="col-12">
						<label for="propDesc" class="form-label">道具描述（中文，方便后台看，前台用不到）</label>
						<input type="text" class="form-control" id="propDesc" name="propDesc" placeholder="玫瑰" value="" required="">
					</div>
					
					<div class="col-12">
						<label for="costPropId" class="form-label">道具消耗（1:钻石，3:金币）</label>
						<input type="text" class="form-control" id="costPropId" name="costPropId" placeholder="3" value="" required="">
					</div>
					
					<div class="col-12">
						<label for="costAmount" class="form-label">道具消耗数目</label>
						<input type="text" class="form-control" id="costAmount" name="costAmount" placeholder="20" value="" required="">
					</div>
					
					<div class="col-12">
						<label for="imageUrl" class="form-label">道具图片</label>
						<input type="file" class="form-control" id="imageUrl" name="imageUrl" accept="image/*" placeholder="" value="" required="">
					</div>
					
					<!--<div class="col-12">
						<label for="beginImg" class="form-label">道具图片（使用者）</label>
						<input type="file" class="form-control" id="beginImg" name="beginImg" accept="image/*" placeholder="" value="" required="">
					</div>
					
					<div class="col-12">
						<label for="endImg" class="form-label">道具图片（被使用者，没有可不传）</label>
						<input type="file" class="form-control" id="endImg" name="endImg" accept="image/*" placeholder="" value="" required="">
					</div>
					
					<div class="col-12">
						<label for="imageUrl" class="form-label">道具作用在使用者身上的动画（.anim文件，没有可不传）</label>
						<input type="file" class="form-control" id="propAnim" name="propAnim" accept="image/*" placeholder="" value="" required="">
					</div>-->
					
					<button class="w-100 btn btn-primary btn-lg" type="submit">添加道具</button>
				</div>
			</form>
		</div>
	</body>
	
	<script src="js/jquery-3.0.0.min.js" type="text/javascript" charset="utf-8"></script>
	<script>
//		function ajaxFunction() {
//		   var xmlHttp;
//		   try{ // Firefox, Opera 8.0+, Safari
//		        xmlHttp=new XMLHttpRequest();
//		    }
//		    catch (e){
//			   try{// Internet Explorer
//			         xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
//			      }
//			    catch (e){
//			      try{
//			         xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
//			      }
//			      catch (e){}
//			      }
//		    }
//			return xmlHttp;
//		}
//		
//		function onChange() {
//			return
//			console.log("上传文件");
//			const list = $("input[type=file]")[0].files;
////			console.log($("input[type=file]")[0]);
////			console.log(list)
////			const list = (file.value as HTMLInputElement).files as FileList;
//			
//			if (list.length) {
//				const formData = new FormData();
//				formData.append("file", list[0]);
//				console.log(formData);
//				console.log(list[0]);
//				
//				var xmlHttp=ajaxFunction();
//				xmlHttp.onreadystatechange=function(){
//					 if(xmlHttp.readyState==4){
//					 	if(xmlHttp.status==200||xmlHttp.status==304){
//							//接收服务器端返回的数据
//							var data=xmlHttp.responseText;
//							console.log("上传文件回调", data);
////							$("#userAmount").html(data);
//						}
//					 }
//				}  
//				xmlHttp.open("post","../upload",true);
//				xmlHttp.setRequestHeader("Content-Type","multipart/form-data");
//				xmlHttp.send(formData);
////				var xmlHttp = ajaxFunction();
////				xmlHttp.post("http://127.0.0.1:8089/upload", formData).then((res) => {
////					console.log(res);
////				});
//			}
//		}
//		
//		$(function() {
//			$("#imageUrl").change(onChange);
//		});
	</script>

</html>